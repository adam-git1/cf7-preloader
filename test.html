<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CF7 Preloader Test</title>
    <link rel="stylesheet" href="assets/css/preloader.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="assets/js/preloader.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
        }
        .wpcf7-form {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 5px;
        }
        .wpcf7-response-output {
            margin: 15px 0;
            padding: 10px;
            border-radius: 3px;
        }
        .wpcf7-mail-sent-ok {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .wpcf7-mail-sent-ng {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .wpcf7-spam {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        button {
            background: #007cba;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 3px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #005a87;
        }
        .test-buttons {
            margin-top: 20px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>CF7 Preloader Test</h1>
    
    <div class="wpcf7-form" id="test-form">
        <div class="wpcf7-response-output"></div>
        <p>
            <label>Name:</label>
            <input type="text" name="your-name" />
        </p>
        <p>
            <label>Email:</label>
            <input type="email" name="your-email" />
        </p>
        <p>
            <button type="button" id="test-submit">Test Submit (Show Preloader)</button>
        </p>
    </div>
    
    <div class="test-buttons">
        <h3>Test Events:</h3>
        <button type="button" onclick="triggerEvent('wpcf7submit')">Trigger wpcf7submit</button>
        <button type="button" onclick="triggerEvent('wpcf7mailsent')">Trigger wpcf7mailsent (Success)</button>
        <button type="button" onclick="triggerEvent('wpcf7mailfailed')">Trigger wpcf7mailfailed (Error)</button>
        <button type="button" onclick="triggerEvent('wpcf7spam')">Trigger wpcf7spam</button>
        <button type="button" onclick="triggerEvent('wpcf7invalid')">Trigger wpcf7invalid</button>
    </div>
    
    <script>
        function triggerEvent(eventName) {
            var $form = $('#test-form');
            var $responseOutput = $form.find('.wpcf7-response-output');
            
            $responseOutput.removeClass('wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-spam');
            
            if (eventName === 'wpcf7mailsent') {
                $responseOutput.addClass('wpcf7-mail-sent-ok').text('Thank you for your message. It has been sent.');
            } else if (eventName === 'wpcf7mailfailed') {
                $responseOutput.addClass('wpcf7-mail-sent-ng').text('There was an error trying to send your message. Please try again later.');
            } else if (eventName === 'wpcf7spam') {
                $responseOutput.addClass('wpcf7-spam').text('Your message was sent successfully but flagged as spam.');
            } else if (eventName === 'wpcf7invalid') {
                $responseOutput.text('Validation errors occurred. Please confirm the fields and submit it again.');
            }
            
            $form.trigger(eventName);
        }
        
        $('#test-submit').on('click', function() {
            var $form = $('#test-form');
            $form.trigger('wpcf7submit');
            
            setTimeout(function() {
                triggerEvent('wpcf7mailsent');
            }, 2000);
        });
    </script>
</body>
</html>

